/* ============================================
   index.css - Global Styles and Tailwind Setup
   This is the main CSS entry point for our app
   Contains Tailwind directives, CSS variables,
   and global base styles
   ============================================ */

/* Import Tailwind's base, component, and utility layers */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CSS Custom Properties (Variables)
   These define our color theme using HSL values
   Tailwind reads these variables for its classes
   
   HSL format: hue saturation lightness
   Example: 163 33% 27% = hsl(163, 33%, 27%)
   ============================================ */

@layer base {
  :root {
    /* Background colors */
    --background: 40 33% 96%;           /* Warm off-white */
    --foreground: 160 33% 17%;          /* Dark green-gray */
    
    /* Card/surface colors */
    --card: 0 0% 100%;                  /* Pure white */
    --card-foreground: 160 33% 17%;
    
    /* Popover/dropdown colors */
    --popover: 0 0% 100%;
    --popover-foreground: 160 33% 17%;
    
    /* Primary brand color - Forest green */
    --primary: 163 33% 27%;
    --primary-foreground: 40 33% 96%;
    
    /* Secondary color - Muted sage */
    --secondary: 150 16% 82%;
    --secondary-foreground: 160 33% 17%;
    
    /* Muted text and backgrounds */
    --muted: 150 16% 82%;
    --muted-foreground: 160 10% 45%;
    
    /* Accent color - Warm terracotta */
    --accent: 19 62% 59%;
    --accent-foreground: 40 33% 96%;
    
    /* Destructive/error color - Red */
    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;
    
    /* Border and input colors */
    --border: 150 16% 82%;
    --input: 150 16% 82%;
    --ring: 163 33% 27%;                /* Focus ring color */
    
    /* Border radius for components */
    --radius: 0.75rem;
  }
}

/* ============================================
   Base Layer Styles
   Global styles applied to all elements
   ============================================ */

@layer base {
  /* Apply border color variable to all elements */
  * {
    @apply border-border;
  }
  
  /* Body base styles */
  body {
    @apply bg-background text-foreground;
    /* Enable advanced font features for better typography */
    font-feature-settings: "rlig" 1, "calt" 1;
  }
  
  /* Custom scrollbar styling (WebKit browsers) */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  ::-webkit-scrollbar-track {
    background: hsl(var(--muted));
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb {
    background: hsl(var(--primary) / 0.3);
    border-radius: 4px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--primary) / 0.5);
  }
}

/* ============================================
   Utility Layer
   Custom utility classes for animations
   and special effects
   ============================================ */

@layer utilities {
  /* Fade in from below animation */
  .animate-fade-in-up {
    animation: fadeInUp 0.6s ease-out forwards;
  }
  
  /* Keyframes for fade in up animation */
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);  /* Start 20px below */
    }
    to {
      opacity: 1;
      transform: translateY(0);     /* End at normal position */
    }
  }
  
  /* Frosted glass effect */
  .glass {
    backdrop-filter: blur(16px) saturate(180%);
    background-color: rgba(255, 255, 255, 0.75);
  }
  
  /* Brand gradient background */
  .eco-gradient {
    background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(163 33% 35%) 100%);
  }
  
  /* Soft shadow - subtle elevation effect */
  .shadow-soft {
    box-shadow: 0 4px 20px -2px rgba(46, 92, 85, 0.08),
                0 2px 8px -2px rgba(46, 92, 85, 0.04);
  }
  
  /* Card shadow - for card components */
  .shadow-card {
    box-shadow: 0 1px 3px rgba(46, 92, 85, 0.06),
                0 4px 12px rgba(46, 92, 85, 0.04);
  }
  
  /* Card hover effect - lifts card on hover */
  .card-hover {
    transition: all 0.3s ease;
  }
  
  .card-hover:hover {
    transform: translateY(-2px);  /* Lift up slightly */
    box-shadow: 0 8px 30px -4px rgba(46, 92, 85, 0.12),
                0 4px 12px -2px rgba(46, 92, 85, 0.08);
  }
  
  /* Eco button shine effect */
  .btn-eco {
    position: relative;
    overflow: hidden;
  }
  
  /* Shine animation using pseudo-element */
  .btn-eco::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(255, 255, 255, 0.2),
      transparent
    );
    transition: left 0.5s ease;
  }
  
  /* Animate shine on hover */
  .btn-eco:hover::after {
    left: 100%;
  }
}

/* ============================================
   Typography Styles
   Custom font settings for headings
   ============================================ */

@layer base {
  /* Tighter letter spacing for headings */
  h1, h2, h3, h4, h5, h6 {
    @apply tracking-tight;
  }
  
  /* Serif font family for elegant headings */
  .font-serif {
    font-family: 'Playfair Display', Georgia, 'Times New Roman', serif;
  }
}

/* ============================================
   Third-Party Library Overrides
   Custom styles for Leaflet maps and Recharts
   ============================================ */

/* Leaflet map container */
.leaflet-container {
  font-family: inherit;           /* Use our app's font */
  border-radius: var(--radius);   /* Match our border radius */
}

/* Leaflet popup styling */
.leaflet-popup-content-wrapper {
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.leaflet-popup-content {
  margin: 12px 16px;
}

/* Recharts tooltip styling */
.recharts-default-tooltip {
  border-radius: 12px !important;
  border: none !important;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1) !important;
}

/* Calendar (react-day-picker) theme colors */
.rdp {
  --rdp-accent-color: hsl(var(--primary));
  --rdp-background-color: hsl(var(--primary) / 0.1);
}
